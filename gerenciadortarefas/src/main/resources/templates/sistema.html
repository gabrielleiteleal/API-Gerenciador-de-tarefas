<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="pt-br">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
	integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
	crossorigin="anonymous">
<link href="css/sistema.css" rel="stylesheet">
<title>Gerenciamento de tarefas</title>
</head>

<body>

	<div class="center">

		<div class="top">
			<h2>Sistema de tarefas</h2>
		</div>

		<div class="bottom">
			<div class="sidebar">
				<div class="container-icon">
					<div class="user-icon"></div>
				</div>

				<div class="user-info">
					<div class="user-id">
						<h3>Id:</h3>
						<h3 th:text=${usuario.id}></h3>
					</div>
					<div class="dados">
						<div class="userName">
							<h3>Nome:</h3>
							<h3 th:text="${usuario.nome}"></h3>
						</div>
						<div class="userEmail">
							<h3>Email:</h3>
							<h3 th:text="${usuario.email}"></h3>
						</div>

					</div>
					<div class="icons">
						<button onclick="sair()">
							<img src="../assets/icons/box-arrow-left.svg">
						</button>
						<button id="novaTarefa" onclick="novaTarefa()">
							<img src="../assets/icons/plus-square-fill.svg">
						</button>
					</div>
				</div>
			</div>

			<div class="container-tabela">
				<table class="table table-bordered">
					<thead>
						<tr>
							<th scope="col">Tarefas</th>
							<th scope="col">Título</th>
							<th scope="col">Descrição</th>
							<th scope="col">Status</th>
							<th scope="col">Edição</th>
						</tr>
					</thead>

					<tr th:each="tarefas: ${tarefas}">
						<td th:text="${tarefas.id_tarefa}"></td>
						<td th:text="${tarefas.titulo}"></td>
						<td th:text="${tarefas.descricao}"></td>
						<td th:text="${tarefas.status}"></td>
						<td>
							<div>
								<button class="editar" id="editarTarefa" onclick="editarTarefa()">
									<img src="../assets/icons/pencil-square.svg">
								</button>
								<button class="excluir" 
								th:attr="data-id=${tarefas.id_tarefa}"
								onclick="deletarTarefa(this)">
								<img src="../assets/icons/trash3-fill.svg">
								</button>
							</div>
						</td>
					</tr>

				</table>
			</div>

			<div id="janela-tarefas">
				<div class="conteudo">
					<button id="fechar-janela">Fechar</button>
					<h2>Adicionar nova tarefa</h2>
					<div class="tarefaForm">
						<form id="formTarefa">
							<div class="nome">
								<label for="tituloTarefa">Titulo* </label> <input type="text"
									id="tituloTarefa" required="required">
							</div>
							<div class="desc">
								<label for="descTarefa">Descrição </label> <input type="text"
									id="descTarefa">
							</div>
							<div class="status">
								<select id="statusTarefa">
									<option selected="selected">Selecione o status</option>
									<option value="concluido">Concluído</option>
									<option value="em-andamento">Em andamento</option>
									<option value="nao-iniciado">Não iniciado</option>
								</select>
							</div>
							<button onclick="criarTarefa()">Enviar</button>
						</form>
					</div>
				</div>
			</div>

		</div>



	</div>

	<script src="../scripts/sistema.js"></script>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
		integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
		crossorigin="anonymous"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
		integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
		crossorigin="anonymous"></script>
</body>

</html>